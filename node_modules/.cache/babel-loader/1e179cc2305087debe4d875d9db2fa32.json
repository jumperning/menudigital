{"ast":null,"code":"var _jsxFileName = \"/Users/maxrodri/Documents/sites/MENUDIGITAL/src/pages/MisPedidos.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport UserPanelLayout from '../components/UserPanelLayout';\nimport Notiflix from 'notiflix';\nimport Loader from '../components/Loader';\nimport Modal from '../components/Modal';\nimport { AuthContext } from '../components/Auth';\nimport { Redirect } from 'react-router-dom';\nimport { database } from '../firebaseConfig';\nimport '../assets/css/pages/UserPanel.css';\nimport '../assets/css/components/MisPedidos.css';\n\nconst MisPedidos = () => {\n  const {\n    currentUser\n  } = useContext(AuthContext);\n  const [orders, setOrders] = useState([]);\n  const [DeleteOrder, setDeleteOrder] = useState('');\n  const [DeleteModal, setDeleteModal] = useState(false);\n  const [loaders, setLoaders] = useState({\n    ordersLoader: true\n  });\n  useEffect(() => {\n    document.title = 'Delimenú - Mis pedidos';\n    Notiflix.Notify.Init({\n      position: 'right-bottom'\n    });\n    getPedidos();\n  }, []);\n\n  const getPedidos = () => {\n    try {\n      database.collection('pedidos').where('idUser', '==', currentUser.uid).onSnapshot(querysnapshot => {\n        const docs = [];\n        setLoaders({ ...loaders,\n          ordersLoader: true\n        });\n        querysnapshot.forEach(doc => {\n          docs.push({ ...doc.data(),\n            id: doc.id\n          });\n        });\n        setOrders(docs);\n        setLoaders({ ...loaders,\n          ordersLoader: false\n        });\n      });\n    } catch (error) {\n      Notiflix.Notify.Failure('Ocurrió un error al traer la información. Por favor inténtalo de nuevo.');\n    }\n  };\n\n  const onDeleteOrder = id => {\n    setDeleteOrder(id);\n    setDeleteModal(true);\n  };\n\n  const confirmDeleteOrder = async () => {\n    setDeleteModal(false);\n\n    try {\n      await database.collection('pedidos').doc(DeleteOrder).delete();\n      Notiflix.Notify.Success('Se eliminó la comida correctamente.');\n    } catch (error) {\n      Notiflix.Notify.Failure('Algo salió mal al intentar eliminar el pedido. Por favor inténtalo de nuevo.');\n    }\n\n    setDeleteOrder('');\n  };\n\n  if (currentUser) {\n    return /*#__PURE__*/React.createElement(UserPanelLayout, {\n      title: \"Mis pedidos\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 4\n      }\n    }, DeleteModal && /*#__PURE__*/React.createElement(Modal, {\n      isOrders: true,\n      closeModal: value => setDeleteModal(value),\n      setDeleteOrder: value => setDeleteOrder(value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 7\n      }\n    }, \"\\xBFQuieres eliminar este pedido?\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"modal__container__button\",\n      onClick: () => setDeleteModal(false),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 8\n      }\n    }, \"Cancelar\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => confirmDeleteOrder(),\n      className: \"modal__container__button modal__container__button--red\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 8\n      }\n    }, \"Eliminar\"))), /*#__PURE__*/React.createElement(\"section\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 5\n      }\n    }, loaders.ordersLoader ? /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 7\n      }\n    }) : /*#__PURE__*/React.createElement(React.Fragment, null, orders.length === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"no-orders\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 10\n      }\n    }, \"Todav\\xEDa no tienes Pedidos\")) : /*#__PURE__*/React.createElement(React.Fragment, null, orders.map(order => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: order.id,\n        className: \"order-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 12\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"order-container__header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 14\n        }\n      }, \"Mesa \", order.mesa), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => onDeleteOrder(order.id),\n        className: \"order-container__header-button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 14\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: \"/img/icons/trash.svg\",\n        alt: \"Eliminar\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 15\n        }\n      }))), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"order-container-row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 14\n        }\n      }, \"Nombre\"), /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 14\n        }\n      }, \"Cantidad\"), /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 14\n        }\n      }, \"Precio\")), order.products.map(product => {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: product.id,\n          className: \"order-container-row\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 16\n          }\n        }, product.name), /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 16\n          }\n        }, product.cantidad), /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 16\n          }\n        }, \"$ \", product.price));\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }\n      }, \"Observaciones\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }\n      }, order.observaciones), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"total-pedido\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 14\n        }\n      }, \"Total:\"), \" $\", order.total), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }\n      }));\n    })))));\n  }\n\n  return /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 9\n    }\n  });\n};\n\nexport default MisPedidos;","map":{"version":3,"sources":["/Users/maxrodri/Documents/sites/MENUDIGITAL/src/pages/MisPedidos.js"],"names":["React","useContext","useEffect","useState","UserPanelLayout","Notiflix","Loader","Modal","AuthContext","Redirect","database","MisPedidos","currentUser","orders","setOrders","DeleteOrder","setDeleteOrder","DeleteModal","setDeleteModal","loaders","setLoaders","ordersLoader","document","title","Notify","Init","position","getPedidos","collection","where","uid","onSnapshot","querysnapshot","docs","forEach","doc","push","data","id","error","Failure","onDeleteOrder","confirmDeleteOrder","delete","Success","value","length","map","order","mesa","products","product","name","cantidad","price","observaciones","total"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\nimport UserPanelLayout from '../components/UserPanelLayout'\nimport Notiflix from 'notiflix'\nimport Loader from '../components/Loader'\nimport Modal from '../components/Modal'\nimport { AuthContext } from '../components/Auth'\nimport { Redirect } from 'react-router-dom'\nimport { database } from '../firebaseConfig'\nimport '../assets/css/pages/UserPanel.css'\nimport '../assets/css/components/MisPedidos.css'\n\nconst MisPedidos = () => {\n\tconst { currentUser } = useContext(AuthContext)\n\tconst [orders, setOrders] = useState([])\n\tconst [DeleteOrder, setDeleteOrder] = useState('')\n\tconst [DeleteModal, setDeleteModal] = useState(false)\n\tconst [loaders, setLoaders] = useState({\n\t\tordersLoader: true,\n\t})\n\n\tuseEffect(() => {\n\t\tdocument.title = 'Delimenú - Mis pedidos'\n\t\tNotiflix.Notify.Init({ position: 'right-bottom' })\n\t\tgetPedidos()\n\t}, [])\n\n\tconst getPedidos = () => {\n\t\ttry {\n\t\t\tdatabase\n\t\t\t\t.collection('pedidos')\n\t\t\t\t.where('idUser', '==', currentUser.uid)\n\t\t\t\t.onSnapshot((querysnapshot) => {\n\t\t\t\t\tconst docs = []\n\n\t\t\t\t\tsetLoaders({\n\t\t\t\t\t\t...loaders,\n\t\t\t\t\t\tordersLoader: true,\n\t\t\t\t\t})\n\n\t\t\t\t\tquerysnapshot.forEach((doc) => {\n\t\t\t\t\t\tdocs.push({ ...doc.data(), id: doc.id })\n\t\t\t\t\t})\n\n\t\t\t\t\tsetOrders(docs)\n\n\t\t\t\t\tsetLoaders({\n\t\t\t\t\t\t...loaders,\n\t\t\t\t\t\tordersLoader: false,\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t} catch (error) {\n\t\t\tNotiflix.Notify.Failure(\n\t\t\t\t'Ocurrió un error al traer la información. Por favor inténtalo de nuevo.'\n\t\t\t)\n\t\t}\n\t}\n\n\tconst onDeleteOrder = (id) => {\n\t\tsetDeleteOrder(id)\n\t\tsetDeleteModal(true)\n\t}\n\n\tconst confirmDeleteOrder = async () => {\n\t\tsetDeleteModal(false)\n\t\ttry {\n\t\t\tawait database.collection('pedidos').doc(DeleteOrder).delete()\n\t\t\tNotiflix.Notify.Success('Se eliminó la comida correctamente.')\n\t\t} catch (error) {\n\t\t\tNotiflix.Notify.Failure(\n\t\t\t\t'Algo salió mal al intentar eliminar el pedido. Por favor inténtalo de nuevo.'\n\t\t\t)\n\t\t}\n\t\tsetDeleteOrder('')\n\t}\n\n\tif (currentUser) {\n\t\treturn (\n\t\t\t<UserPanelLayout title=\"Mis pedidos\">\n\t\t\t\t{DeleteModal && (\n\t\t\t\t\t<Modal\n\t\t\t\t\t\tisOrders\n\t\t\t\t\t\tcloseModal={(value) => setDeleteModal(value)}\n\t\t\t\t\t\tsetDeleteOrder={(value) => setDeleteOrder(value)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<p>¿Quieres eliminar este pedido?</p>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"modal__container__button\"\n\t\t\t\t\t\t\t\tonClick={() => setDeleteModal(false)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tCancelar\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() => confirmDeleteOrder()}\n\t\t\t\t\t\t\t\tclassName=\"modal__container__button modal__container__button--red\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tEliminar\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Modal>\n\t\t\t\t)}\n\t\t\t\t<section>\n\t\t\t\t\t{loaders.ordersLoader ? (\n\t\t\t\t\t\t<Loader />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{orders.length === 0 ? (\n\t\t\t\t\t\t\t\t<div className=\"no-orders\">\n\t\t\t\t\t\t\t\t\t<span>Todavía no tienes Pedidos</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t{orders.map((order) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<div key={order.id} className=\"order-container\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"order-container__header\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h2>Mesa {order.mesa}</h2>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => onDeleteOrder(order.id)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"order-container__header-button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img src=\"/img/icons/trash.svg\" alt=\"Eliminar\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"order-container-row\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h4>Nombre</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h4>Cantidad</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h4>Precio</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t{order.products.map((product) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={product.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"order-container-row\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{product.name}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{product.cantidad}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>$ {product.price}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t\t<h4>Observaciones</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t\t<p>{order.observaciones}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"total-pedido\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<strong>Total:</strong> ${order.total}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</section>\n\t\t\t</UserPanelLayout>\n\t\t)\n\t}\n\treturn <Redirect to=\"/\" />\n}\n\nexport default MisPedidos\n"]},"metadata":{},"sourceType":"module"}