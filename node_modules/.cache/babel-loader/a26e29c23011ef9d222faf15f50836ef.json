{"ast":null,"code":"var _jsxFileName = \"/Users/maxrodri/Documents/sites/MENUDIGITAL/src/components/Login.js\";\nimport React, { useEffect, useState, useContext } from 'react';\nimport Loader from '../components/Loader';\nimport app from '../firebaseConfig';\nimport SignInSocial from './SignInSocial';\nimport { AuthContext } from './Auth';\nimport { Redirect } from 'react-router-dom';\n\nconst Login = () => {\n  const [form, setValues] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState({});\n  const {\n    currentUser\n  } = useContext(AuthContext);\n  useEffect(() => {\n    document.title = 'Delimenú - Inicio de sesión';\n  }, []);\n\n  const handleInput = event => {\n    setValues({ ...form,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    setErrors({});\n    setLoading(true);\n    document.querySelectorAll('input').forEach(input => input.disabled = true);\n    app.auth().signInWithEmailAndPassword(form.email, form.password).catch(err => {\n      if (err.code === 'auth/user-not-found' || err.code === 'auth/wrong-password') {\n        setErrors({\n          incorrect: true\n        });\n      } else {\n        setErrors({\n          unexpected: true\n        });\n      }\n    });\n    document.querySelectorAll('input').forEach(input => input.disabled = false);\n    setLoading(false);\n  };\n\n  if (currentUser) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 10\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-register-container__grid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 4\n    }\n  }, \"Iniciar Sesi\\xF3n\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"login-grid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"login-register-form__label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"login-register-form__label__icon\",\n    src: \"/img/icons/mail.svg\",\n    alt: \"User\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"email\",\n    placeholder: \"Correo\",\n    className: \"login-register-form__input\",\n    type: \"email\",\n    required: true,\n    onChange: handleInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 6\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"login-register-form__label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"login-register-form__label__icon\",\n    src: \"/img/icons/padlock.svg\",\n    alt: \"User\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"password\",\n    placeholder: \"Contrase\\xF1a\",\n    className: \"login-register-form__input\",\n    type: \"password\",\n    required: true,\n    onChange: handleInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 6\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"login-register-form__button\",\n    type: \"submit\",\n    value: \"Iniciar Sesi\\xF3n\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(SignInSocial, {\n    setErrors: e => setErrors(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 4\n    }\n  }), loading && /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-register__errors\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 6\n    }\n  }, errors.incorrect && /*#__PURE__*/React.createElement(\"li\", {\n    className: \"login-register__errors--li\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 8\n    }\n  }, \"El correo o la contrase\\xF1a es incorrecto\"), errors.unexpected && /*#__PURE__*/React.createElement(\"li\", {\n    className: \"login-register__errors--li\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 8\n    }\n  }, \"Ocurri\\xF3 un error al enviar la informaci\\xF3n. Por favor intenta de nuevo\"), errors.facebook && /*#__PURE__*/React.createElement(\"li\", {\n    className: \"login-register__errors--li\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 8\n    }\n  }, \"Ya existe una cuenta con la misma direcci\\xF3n de correo electr\\xF3nico en un proveedor asociado con esta direcci\\xF3n de correo electr\\xF3nico. Intenta ingresar con el correo electr\\xF3nico o con Google.\")))));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/maxrodri/Documents/sites/MENUDIGITAL/src/components/Login.js"],"names":["React","useEffect","useState","useContext","Loader","app","SignInSocial","AuthContext","Redirect","Login","form","setValues","loading","setLoading","errors","setErrors","currentUser","document","title","handleInput","event","target","name","value","handleSubmit","preventDefault","querySelectorAll","forEach","input","disabled","auth","signInWithEmailAndPassword","email","password","catch","err","code","incorrect","unexpected","e","facebook"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from 'react'\nimport Loader from '../components/Loader'\nimport app from '../firebaseConfig'\nimport SignInSocial from './SignInSocial'\nimport { AuthContext } from './Auth'\nimport { Redirect } from 'react-router-dom'\n\nconst Login = () => {\n\tconst [form, setValues] = useState({})\n\tconst [loading, setLoading] = useState(false)\n\tconst [errors, setErrors] = useState({})\n\tconst { currentUser } = useContext(AuthContext)\n\n\tuseEffect(() => {\n\t\tdocument.title = 'Delimenú - Inicio de sesión'\n\t}, [])\n\n\tconst handleInput = (event) => {\n\t\tsetValues({\n\t\t\t...form,\n\t\t\t[event.target.name]: event.target.value,\n\t\t})\n\t}\n\n\tconst handleSubmit = (event) => {\n\t\tevent.preventDefault()\n\t\tsetErrors({})\n\t\tsetLoading(true)\n\t\tdocument\n\t\t\t.querySelectorAll('input')\n\t\t\t.forEach((input) => (input.disabled = true))\n\t\tapp\n\t\t\t.auth()\n\t\t\t.signInWithEmailAndPassword(form.email, form.password)\n\t\t\t.catch((err) => {\n\t\t\t\tif (\n\t\t\t\t\terr.code === 'auth/user-not-found' ||\n\t\t\t\t\terr.code === 'auth/wrong-password'\n\t\t\t\t) {\n\t\t\t\t\tsetErrors({\n\t\t\t\t\t\tincorrect: true,\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tsetErrors({\n\t\t\t\t\t\tunexpected: true,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\tdocument\n\t\t\t.querySelectorAll('input')\n\t\t\t.forEach((input) => (input.disabled = false))\n\t\tsetLoading(false)\n\t}\n\n\tif (currentUser) {\n\t\treturn <Redirect to=\"/\" />\n\t}\n\n\treturn (\n\t\t<div className=\"login-register-container__grid\">\n\t\t\t<h1>Iniciar Sesión</h1>\n\t\t\t<form onSubmit={handleSubmit} className=\"login-grid\">\n\t\t\t\t<label className=\"login-register-form__label\">\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName=\"login-register-form__label__icon\"\n\t\t\t\t\t\tsrc=\"/img/icons/mail.svg\"\n\t\t\t\t\t\talt=\"User\"\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\tplaceholder=\"Correo\"\n\t\t\t\t\t\tclassName=\"login-register-form__input\"\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tonChange={handleInput}\n\t\t\t\t\t/>\n\t\t\t\t</label>\n\t\t\t\t<label className=\"login-register-form__label\">\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName=\"login-register-form__label__icon\"\n\t\t\t\t\t\tsrc=\"/img/icons/padlock.svg\"\n\t\t\t\t\t\talt=\"User\"\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tplaceholder=\"Contraseña\"\n\t\t\t\t\t\tclassName=\"login-register-form__input\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tonChange={handleInput}\n\t\t\t\t\t/>\n\t\t\t\t</label>\n\t\t\t\t<input\n\t\t\t\t\tclassName=\"login-register-form__button\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tvalue=\"Iniciar Sesión\"\n\t\t\t\t/>\n\t\t\t</form>\n\t\t\t<SignInSocial setErrors={(e) => setErrors(e)} />\n\t\t\t{loading && <Loader />}\n\t\t\t<div className=\"login-register__errors\">\n\t\t\t\t<span>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{errors.incorrect && (\n\t\t\t\t\t\t\t<li className=\"login-register__errors--li\">\n\t\t\t\t\t\t\t\tEl correo o la contraseña es incorrecto\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{errors.unexpected && (\n\t\t\t\t\t\t\t<li className=\"login-register__errors--li\">\n\t\t\t\t\t\t\t\tOcurrió un error al enviar la información. Por favor intenta de\n\t\t\t\t\t\t\t\tnuevo\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{errors.facebook && (\n\t\t\t\t\t\t\t<li className=\"login-register__errors--li\">\n\t\t\t\t\t\t\t\tYa existe una cuenta con la misma dirección de correo\n\t\t\t\t\t\t\t\telectrónico en un proveedor asociado con esta dirección de\n\t\t\t\t\t\t\t\tcorreo electrónico. Intenta ingresar con el correo electrónico o\n\t\t\t\t\t\t\t\tcon Google.\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ul>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}